(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[118],{6987:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/submissions",function(){return n(3247)}])},7863:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5893),s=n(3100),a=n(7754),o=n(4418);function c(e){let{text:t}=e;return(0,r.jsx)(s.xu,{p:"4",bg:"white",borderBottom:"1px",borderColor:"gray.300",children:(0,r.jsx)(a.M,{children:(0,r.jsx)(o.X,{as:"h1",children:t})})})}},899:function(e,t,n){"use strict";n.d(t,{R:function(){return s},n:function(){return a}});let r="/api";async function s(e){try{let t=await fetch(r+"/declaration_form/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return t.status<300}catch(e){return!1}}async function a(){try{let e=await fetch(r+"/declaration_form"),t=await e.json();return t.map(e=>(e.createdAt=new Date(e.createdAt),e))}catch(e){return[]}}},3247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(5893),s=n(6354),a=n(204),o=n(7294),c=n(148),i=n(2196),l=n(9021),d=n(6864),u=n(7863),h=n(899),g=n(6557),x=n(4304),j=n(6526),m=n(5421),f=n(9282),p=n(8650),w=n(577),C=n(4641),b=n(9222),y=n(295),_=n(7060),S=n(4094);let P=e=>{let{data:t}=e,[n,a]=(0,o.useState)([]),u=(0,_.Cl)(),h=[u.accessor("name",{cell:e=>e.getValue(),header:"Name"}),u.accessor("temperature",{cell:e=>e.getValue(),header:"Temperature"}),u.accessor("hasSymptoms",{cell:e=>e.getValue()?"yes":"no",header:"Symptoms"}),u.accessor("hasContact",{cell:e=>e.getValue()?"yes":"no",header:"Close Contact"}),u.accessor("createdAt",{cell:e=>{let t=e.getValue();return null==t?"":"".concat(t.getDate(),"/").concat(t.getMonth(),"/").concat(t.getFullYear())},header:"Date"})],y=(0,S.b7)({columns:h,data:t,getCoreRowModel:(0,_.sC)(),onSortingChange:a,getSortedRowModel:(0,_.tj)(),getPaginationRowModel:(0,_.G_)(),state:{sorting:n}});return(0,r.jsxs)(s.x,{w:"100%",children:[(0,r.jsxs)(g.i,{children:[(0,r.jsx)(x.h,{children:y.getHeaderGroups().map(e=>(0,r.jsx)(j.Tr,{children:e.headers.map(e=>(0,r.jsxs)(m.Th,{onClick:e.column.getToggleSortingHandler(),children:[(0,S.ie)(e.column.columnDef.header,e.getContext()),(0,r.jsx)(f.m.span,{children:e.column.getIsSorted()?"desc"===e.column.getIsSorted()?(0,r.jsx)(c.A,{"aria-label":"sorted descending"}):(0,r.jsx)(i.$,{"aria-label":"sorted ascending"}):null})]},e.id))},e.id))}),(0,r.jsx)(p.p,{children:y.getRowModel().rows.map(e=>(0,r.jsx)(j.Tr,{children:e.getVisibleCells().map(e=>(0,r.jsx)(w.Td,{children:(0,S.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]}),(0,r.jsxs)(C.U,{dir:"row",mt:"4px",children:[(0,r.jsx)(b.z,{onClick:()=>y.previousPage(),isDisabled:!y.getCanPreviousPage(),children:(0,r.jsx)(l.w,{})}),(0,r.jsx)(b.z,{onClick:()=>y.nextPage(),isDisabled:!y.getCanNextPage(),children:(0,r.jsx)(d.X,{})}),(0,r.jsxs)(f.m.span,{children:["Page"," ",(0,r.jsxs)("strong",{children:[y.getState().pagination.pageIndex+1," of"," ",y.getPageCount()]})]})]})]})};function k(){let[e,t]=(0,o.useState)(!1),[n,s]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=async()=>{t(!0);let e=await (0,h.n)();s(e),t(!1)};e()},[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("main",{children:(0,r.jsxs)(a.k,{position:"fixed",w:"100%",h:"100%",bg:"gray.50",direction:"column",overflow:"scroll",children:[(0,r.jsx)(u.Z,{text:"Covid-19 Declaration Submissions"}),(0,r.jsx)(a.k,{w:"100%",justify:"center",grow:"1",children:(0,r.jsx)(a.k,{w:["100%","100%",960],bg:"white",p:"8px",children:e?(0,r.jsx)(y.$,{}):(0,r.jsx)(P,{data:n})})})]})})})}}},function(e){e.O(0,[438,774,888,179],function(){return e(e.s=6987)}),_N_E=e.O()}]);